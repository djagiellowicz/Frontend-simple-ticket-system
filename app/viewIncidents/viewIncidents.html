<div ng-controller="ViewIncidentsCtrl as ctrl">

    <h1>Current incidents list</h1>

    <table class="table table-striped table-hover">
        <thead class="thead-dark">
        <tr>
            <th scope="col"> Identifier </th>
            <th scope="col"> Title </th>
            <th scope="col"> Description </th>
            <th scope="col"> Status </th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <tr ng-repeat="element in ctrl.incidentsList" ng-click="ctrl.showDetails(element)" >
            <td>{{element.id}}</td>
            <td>{{element.title}}</td>
            <td>{{element.description}}</td>
            <td>{{element.status}}</td>
        </tr>
        </tr>
        </tbody>
    </table>
    <div>
        <button class="btn" ng-if="ctrl.pageNumber > 0" ng-click="ctrl.previousPage()">Previous page</button>
        <button class="btn" ng-if="ctrl.totalNumberOfElements > (ctrl.pageNumber * 10) + 10" ng-click="ctrl.nextPage()">Next Page</button>
    </div>
    <div ng-show="ctrl.showme">
            <p> It's shown! </p>
        <div>
            <form id="incident_update_form" name="incident_update_form">

                <input class="form-control"  name="id" id="id_form" type="hidden" ng-model="ctrl.formIncident.id"
                       required ng-minlength="1"></input>
                <div>
                <label for="title_form">Title:</label>
                <input class="form-control"  name="title" id="title_form" type="text" ng-model="ctrl.formIncident.title"
                       required ng-minlength="3"></input>
                </div>
                <div>
                <label for="description_form">Description:</label>
                <input class="form-control"  name="description" id="description_form" type="text" ng-model="ctrl.formIncident.description"
                       required ng-minlength="3"></input>
                </div>
                <div>
                <label for="creationDate_form">Creation Date:</label>
                <input class="form-control"  name="date" id="creationDate_form" type="text" ng-model="ctrl.formIncident.creationDate"
                       required ng-minlength="3"></input>
                </div>
                <div>
                <label for="status_form">Status:</label>
                    <select class="form-control" id="status_form" ng-model="ctrl.formIncident.status">
                        <option ng-repeat="status in ctrl.statusesList" value="{{status}}">{{status}}</option>
                    </select>
                </div>
                <!--<div>-->

                    <!--&lt;!&ndash;name should be displayed, id should be sent&ndash;&gt;-->
                <!--<label for="created_by_login_form">Created by id:</label>-->
                <!--<input class="form-control"  name="createdBy" id="created_by_login_form" type="text" ng-model="ctrl.formIncident.createdBy.id"-->
                       <!--required ng-minlength="1"></input>-->
                <!--</div>-->

                <div>
                    <label for="created_by_login_formm">Created by:</label>
                <select class="form-control" name="createdBy" id="created_by_login_formm" ng-model="ctrl.formIncident.createdBy.login">
                    <option ng-repeat="user in ctrl.usersList" value="{{user.login}}">{{user.login}}</option>
                </select>
                </div>

                <div>
                <label for="assigned_to_login_form">Assigned to id:</label>
                <input class="form-control"  name="assignedTo" id="assigned_to_login_form" type="text" ng-model="ctrl.formIncident.assignedTo.id"
                       required ng-minlength="1"></input>
                </div>

                <!--<input class="form-control"  name="createdBy_id_form" id="createdBy_id_form" type="hidden" ng-model="ctrl.formIncident.createdBy.id"-->
                       <!--&gt;</input>-->
                <!--<input class="form-control"  name="assignedTo_id_form" id="assignedTo_id_form" type="hidden" ng-model="ctrl.formIncident.assignedTo.name.id"-->
                       <!--&gt;</input>-->
                <br>
                <button type="button" class="btn btn-success"  ng-click="ctrl.update()"> Update </button>
                <button type="button" class="btn btn-danger" ng-click="ctrl.remove()"> Remove </button>
                <button type="button" class="btn btn-warning" ng-click="ctrl.showme = false"> Hide </button>
            </form>
        </div>
    </div>

</div>
